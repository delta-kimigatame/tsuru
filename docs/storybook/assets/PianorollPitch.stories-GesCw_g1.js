import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{R as b}from"./index-iNOV5qWA.js";import{a as F,P as j}from"./PianorollBackground-CeWu-PaL.js";import{N as W}from"./Note-CcnmOUAw.js";import{u as a}from"./cookieStore-BsTWuq-c.js";import{u as c}from"./musicProjectStore-BsvuTYmn.js";import{l as q}from"./array-CrYMH4lO.js";import{P as K}from"./PianorollNotes-Dk-eVHoG.js";import{P as B}from"./PianorollPitch-Ss1AkXxq.js";import"./useThemeMode-DBwfopSL.js";import"./index-w39uwJq3.js";import"./resolveProps-BxfXLv92.js";import"./useThemeWithoutDefault-CG-nTen1.js";import"./getThemeProps-Cyw7R1y9.js";import"./useEnhancedEffect-DCkc7bGx.js";import"./Logging-BGLwk1OE.js";import"./interp-BFp6dTGs.js";import"./Notenum-DIq-GRnt.js";import"./note-PQ4Q7K1Q.js";import"./react-D0diZGQB.js";const ye={title:"03_2_ピアノロール/部品/ピッチ",component:B,args:{selectedNotesIndex:[]}},Q=e=>{const{verticalZoom:s,horizontalZoom:o}=a(),{notes:t}=c(),y=b.useMemo(()=>{if(t.length===0)return[];const f=new Array;let P=0;for(let N=0;N<t.length;N++)f.push(P),P+=t[N].length;return f},[t]),S=b.useMemo(()=>t.length===0?0:y.slice(-1)[0]+t.slice(-1)[0].length,[y]);return r.jsxs("svg",{width:S*j.NOTES_WIDTH_RATE*o,height:j.TOTAL_HEIGHT*s,style:{display:"block",position:"relative"},children:[r.jsx("g",{id:"background",children:r.jsx(F,{...e,totalLength:S})}),r.jsx("g",{id:"notes",children:r.jsx(K,{...e,totalLength:S,notesLeft:y})}),r.jsx("g",{id:"pitch",children:r.jsx(B,{...e,totalLength:S,notesLeft:y})})]})},m=e=>r.jsx(Q,{...e}),n=e=>{const s=new Array;for(let o=0;o<e;o++){const t=new W;t.index=0,t.lyric=o%3===0?"R":"あ",t.length=120*(o%8+1),t.notenum=107-o,t.hasTempo=!1,t.tempo=120,t.pbs="-125;-10",t.setPbw([250]),t.prev=q(s),s.push(t)}return s},i=m.bind({});i.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);s.setNotes(o)};i.storyName="ライトモード";const l=m.bind({});l.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("dark"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);s.setNotes(o)};l.storyName="ダークモード";const p=m.bind({});p.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);o.forEach(t=>t.setPbm(["s"])),s.setNotes(o)};p.storyName="直線ピッチの描画";const d=m.bind({});d.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);o.forEach(t=>t.setPbm(["r"])),s.setNotes(o)};d.storyName="Rピッチの描画";const u=m.bind({});u.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);o.forEach(t=>t.setPbm(["j"])),s.setNotes(o)};u.storyName="Jピッチの描画";const g=m.bind({});g.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1);const o=n(84);o.forEach(t=>{t.setPbw([75,75,75,75]),t.setPbm(["j","r","s"]),t.setPby([10,-5,5])}),s.setNotes(o)};g.storyName="複雑なピッチの描画";const h=m.bind({});h.play=async()=>{const e=a.getState(),s=c.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(.5),e.setHorizontalZoom(1);const o=n(84);s.setNotes(o)};h.storyName="音階方向の縮小";var Z,M,T;i.parameters={...i.parameters,docs:{...(Z=i.parameters)==null?void 0:Z.docs,source:{originalSource:"args => <DummyParent {...args} />",...(T=(M=i.parameters)==null?void 0:M.docs)==null?void 0:T.source}}};var w,x,D;l.parameters={...l.parameters,docs:{...(w=l.parameters)==null?void 0:w.docs,source:{originalSource:"args => <DummyParent {...args} />",...(D=(x=l.parameters)==null?void 0:x.docs)==null?void 0:D.source}}};var H,C,E;p.parameters={...p.parameters,docs:{...(H=p.parameters)==null?void 0:H.docs,source:{originalSource:"args => <DummyParent {...args} />",...(E=(C=p.parameters)==null?void 0:C.docs)==null?void 0:E.source}}};var R,V,_;d.parameters={...d.parameters,docs:{...(R=d.parameters)==null?void 0:R.docs,source:{originalSource:"args => <DummyParent {...args} />",...(_=(V=d.parameters)==null?void 0:V.docs)==null?void 0:_.source}}};var z,L,k;u.parameters={...u.parameters,docs:{...(z=u.parameters)==null?void 0:z.docs,source:{originalSource:"args => <DummyParent {...args} />",...(k=(L=u.parameters)==null?void 0:L.docs)==null?void 0:k.source}}};var O,A,I;g.parameters={...g.parameters,docs:{...(O=g.parameters)==null?void 0:O.docs,source:{originalSource:"args => <DummyParent {...args} />",...(I=(A=g.parameters)==null?void 0:A.docs)==null?void 0:I.source}}};var v,J,G;h.parameters={...h.parameters,docs:{...(v=h.parameters)==null?void 0:v.docs,source:{originalSource:"args => <DummyParent {...args} />",...(G=(J=h.parameters)==null?void 0:J.docs)==null?void 0:G.source}}};const Se=["LightMode","DarkMode","pbmS","pbmR","pbmJ","MultiPoltament","VerticalZoom"];export{l as DarkMode,i as LightMode,g as MultiPoltament,h as VerticalZoom,Se as __namedExportsOrder,ye as default,u as pbmJ,d as pbmR,p as pbmS};
