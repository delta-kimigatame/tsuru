import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{R as x}from"./index-iNOV5qWA.js";import{a as Y,P as Z}from"./PianorollBackground-CeWu-PaL.js";import{N as $}from"./Note-CcnmOUAw.js";import{u as a}from"./cookieStore-BsTWuq-c.js";import{u as n}from"./musicProjectStore-BsvuTYmn.js";import{P as Q}from"./PianorollNotes-DacBM-LF.js";import{g as ee,C as te}from"./generateUtilityClasses-DXwt_ASJ.js";import{c as oe}from"./createBox-BQknTud0.js";import"./useThemeMode-DBwfopSL.js";import"./index-w39uwJq3.js";import"./resolveProps-BxfXLv92.js";import"./useThemeWithoutDefault-CG-nTen1.js";import"./getThemeProps-Cyw7R1y9.js";import"./useEnhancedEffect-DCkc7bGx.js";import"./Logging-BGLwk1OE.js";import"./interp-BFp6dTGs.js";import"./Notenum-DIq-GRnt.js";import"./note-PQ4Q7K1Q.js";import"./react-D0diZGQB.js";import"./useTheme-BMUBEho4.js";import"./extendSxProp-C28V3_VZ.js";const se=ee("MuiBox",["root"]),P=oe({defaultClassName:se.root,generateClassName:te.generate}),be={title:"03_2_ピアノロール/部品/ノート",component:Q},X=e=>{const{verticalZoom:t,horizontalZoom:o}=a(),{notes:s}=n(),f=x.useMemo(()=>{if(s.length===0)return[];const j=new Array;let w=0;for(let S=0;S<s.length;S++)j.push(w),w+=s[S].length;return j},[s]),y=x.useMemo(()=>s.length===0?0:f.slice(-1)[0]+s.slice(-1)[0].length,[f]);return r.jsxs("svg",{width:y*Z.NOTES_WIDTH_RATE*o,height:Z.TOTAL_HEIGHT*t,style:{display:"block",position:"relative"},children:[r.jsx("g",{id:"background",children:r.jsx(Y,{...e,totalLength:y})}),r.jsx("g",{id:"notes",children:r.jsx(Q,{...e,totalLength:y,notesLeft:f})})]})},N=e=>r.jsx(X,{...e}),c=e=>{const t=new Array;for(let o=0;o<e;o++){const s=new $;s.index=0,s.lyric=o%3===0?"R":"あ",s.length=120*(o%8+1),s.notenum=107-o,s.hasTempo=!1,s.tempo=120,t.push(s)}return t},m=N.bind({});m.args={selectedNotesIndex:[0,1]};m.play=async()=>{const e=a.getState(),t=n.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1),t.setNoteProperty(0,"length",480);const o=c(84);t.setNotes(o)};m.storyName="ライトモード";const i=N.bind({});i.args={selectedNotesIndex:[0,1]};i.play=async()=>{const e=a.getState(),t=n.getState();e.setMode("dark"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(1),t.setNoteProperty(0,"length",480);const o=c(84);t.setNotes(o)};i.storyName="ダークモード";const l=N.bind({});l.args={selectedNotesIndex:[0,1]};l.play=async()=>{const e=a.getState(),t=n.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(.5),e.setHorizontalZoom(1),t.setNoteProperty(0,"length",480);const o=c(84);t.setNotes(o)};l.storyName="音階方向縮小";const p=N.bind({});p.args={selectedNotesIndex:[0,1]};p.play=async()=>{const e=a.getState(),t=n.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(1),e.setHorizontalZoom(.5),t.setNoteProperty(0,"length",480);const o=c(84);t.setNotes(o)};p.storyName="時間方向縮小";const d=N.bind({});d.args={selectedNotesIndex:[0,1]};d.play=async()=>{const e=a.getState(),t=n.getState();e.setMode("light"),e.setColorTheme("default"),e.setVerticalZoom(.5),e.setHorizontalZoom(2),t.setNoteProperty(0,"length",480);const o=c(84);t.setNotes(o)};d.storyName="縮小";const re=e=>{const[t,o]=x.useState(null);return x.useEffect(()=>{const s=performance.now();requestAnimationFrame(()=>{const f=performance.now();o(f-s)})},[]),r.jsxs(P,{sx:{position:"relative"},children:[r.jsx(X,{...e}),t!==null&&r.jsxs(P,{sx:{position:"absolute",top:0,right:0,zIndex:1e3,bgcolor:"white",p:1,fontSize:"12px",border:"1px solid #ccc"},children:["Render Time: ",t.toFixed(2)," ms"]})]})},T=e=>r.jsx(P,{sx:{position:"relative",width:"100%",height:"100%"},children:r.jsx(re,{...e})}),g=T.bind({});g.args={selectedNotesIndex:[]};g.play=async()=>{a.getState();const e=n.getState(),t=c(9999);t.forEach((o,s)=>{t[s].length=480}),e.setNotes(t)};g.storyName="※※負荷試験※※ノートが9,999個";const u=T.bind({});u.args={selectedNotesIndex:[]};u.play=async()=>{a.getState();const e=n.getState(),t=c(2e3);t.forEach((o,s)=>{t[s].length=480}),e.setNotes(t)};u.storyName="※※負荷試験※※ノートが2,000個";const h=T.bind({});h.args={selectedNotesIndex:[]};h.play=async()=>{a.getState();const e=n.getState(),t=c(1e3);t.forEach((o,s)=>{t[s].length=480}),e.setNotes(t)};h.storyName="※※負荷試験※※ノートが1,000個";var E,b,C;m.parameters={...m.parameters,docs:{...(E=m.parameters)==null?void 0:E.docs,source:{originalSource:"args => <DummyParent {...args} />",...(C=(b=m.parameters)==null?void 0:b.docs)==null?void 0:C.source}}};var I,M,z;i.parameters={...i.parameters,docs:{...(I=i.parameters)==null?void 0:I.docs,source:{originalSource:"args => <DummyParent {...args} />",...(z=(M=i.parameters)==null?void 0:M.docs)==null?void 0:z.source}}};var B,H,D;l.parameters={...l.parameters,docs:{...(B=l.parameters)==null?void 0:B.docs,source:{originalSource:"args => <DummyParent {...args} />",...(D=(H=l.parameters)==null?void 0:H.docs)==null?void 0:D.source}}};var _,v,L;p.parameters={...p.parameters,docs:{...(_=p.parameters)==null?void 0:_.docs,source:{originalSource:"args => <DummyParent {...args} />",...(L=(v=p.parameters)==null?void 0:v.docs)==null?void 0:L.source}}};var R,k,V;d.parameters={...d.parameters,docs:{...(R=d.parameters)==null?void 0:R.docs,source:{originalSource:"args => <DummyParent {...args} />",...(V=(k=d.parameters)==null?void 0:k.docs)==null?void 0:V.source}}};var A,O,W;g.parameters={...g.parameters,docs:{...(A=g.parameters)==null?void 0:A.docs,source:{originalSource:`args => <Box sx={{
  position: "relative",
  width: "100%",
  height: "100%"
}}>
    <PerformanceWrapper {...args} />
  </Box>`,...(W=(O=g.parameters)==null?void 0:O.docs)==null?void 0:W.source}}};var F,G,q;u.parameters={...u.parameters,docs:{...(F=u.parameters)==null?void 0:F.docs,source:{originalSource:`args => <Box sx={{
  position: "relative",
  width: "100%",
  height: "100%"
}}>
    <PerformanceWrapper {...args} />
  </Box>`,...(q=(G=u.parameters)==null?void 0:G.docs)==null?void 0:q.source}}};var U,J,K;h.parameters={...h.parameters,docs:{...(U=h.parameters)==null?void 0:U.docs,source:{originalSource:`args => <Box sx={{
  position: "relative",
  width: "100%",
  height: "100%"
}}>
    <PerformanceWrapper {...args} />
  </Box>`,...(K=(J=h.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};const Ce=["LightMode","DarkMode","VerticalZoomEffect","HorizontalZoomEffect","ZoomEffect","PeformanceTest9999","PeformanceTest2000","PeformanceTest1000"];export{i as DarkMode,p as HorizontalZoomEffect,m as LightMode,h as PeformanceTest1000,u as PeformanceTest2000,g as PeformanceTest9999,l as VerticalZoomEffect,d as ZoomEffect,Ce as __namedExportsOrder,be as default};
