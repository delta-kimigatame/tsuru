import { Meta, StoryObj } from "@storybook/react";
import { TextTabContent } from "../../../src/features/InfoVBDialog/TextTabContent";
import { EncodingOption } from "../../../src/utils/EncodingMapping";

const meta: Meta<typeof TextTabContent> = {
  title: "features/InfoVBDialog/TextTabContent",
  component: TextTabContent,
  tags: ["autodocs"],
};

export default meta;
type Story = StoryObj<typeof meta>;

// Shift-JISでエンコードされたバイト列（"サンプルテキスト\r\n改行を含むテキスト\r\n3行目のテキスト"）
const sjisBytes = new Uint8Array([
  0x83, 0x54, 0x83, 0x93, 0x83, 0x76, 0x83, 0x8b, 0x83, 0x65, 0x83, 0x4c, 0x83,
  0x58, 0x83, 0x67, 0x0d, 0x0a, 0x89, 0xfc, 0x8d, 0x73, 0x82, 0xf0, 0x8a, 0xdc,
  0x82, 0xde, 0x83, 0x65, 0x83, 0x4c, 0x83, 0x58, 0x83, 0x67, 0x0d, 0x0a, 0x33,
  0x8d, 0x73, 0x96, 0xda, 0x82, 0xcc, 0x83, 0x65, 0x83, 0x4c, 0x83, 0x58, 0x83,
  0x67,
]);
const textFile = new File([sjisBytes], "sample.txt", { type: "text/plain" });

export const Default: Story = {
  args: {
    textFile: textFile,
    encoding: EncodingOption.SHIFT_JIS,
    progress: false,
  },
};
