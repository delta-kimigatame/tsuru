import{r as n}from"./index-iNOV5qWA.js";import{e as q,g as J,c as V}from"./generateUtilityClasses-DXwt_ASJ.js";import{u as Ee}from"./index-BOiXDGkM.js";import{u as Q,s as H,c as Z,r as Ce}from"./DefaultPropsProvider-C7n-yi0g.js";import{j as O}from"./jsx-runtime-D_zvdyIk.js";import{u as ue}from"./useSlotProps-B_kYJHgD.js";import{i as Le}from"./isHostComponent-DVu5iVWx.js";import{u as pe}from"./useSlot-C8kuGgOa.js";import{P as Te}from"./Paper-Me1pdxeg.js";import{G as ke}from"./Grow-Cmdnd185.js";import{o as X}from"./ownerDocument-DW-IO8s5.js";import{o as Y}from"./ownerWindow-HkKU3E4x.js";import{d as De}from"./debounce-Be36O1Ab.js";import{u as ge}from"./useForkRef-Dv2UJ9DH.js";import{g as Ie,M as Oe}from"./Modal-Cd-jXePO.js";import{u as ze}from"./useEnhancedEffect-DCkc7bGx.js";import{L as Fe}from"./ListContext-C7gjrrzQ.js";function Ke(t){return q("MuiList",t)}J("MuiList",["root","padding","dense","subheader"]);const je=t=>{const{classes:e,disablePadding:o,dense:P,subheader:h}=t;return Z({root:["root",!o&&"padding",P&&"dense",h&&"subheader"]},Ke,e)},Ne=H("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disablePadding&&e.padding,o.dense&&e.dense,o.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),He=n.forwardRef(function(e,o){const P=Q({props:e,name:"MuiList"}),{children:h,className:f,component:m="ul",dense:a=!1,disablePadding:d=!1,subheader:b,...R}=P,T=n.useMemo(()=>({dense:a}),[a]),k={...P,component:m,dense:a,disablePadding:d},s=je(k);return O.jsx(Fe.Provider,{value:T,children:O.jsxs(Ne,{as:m,className:V(s.root,f),ref:o,ownerState:k,...R,children:[b,h]})})});function B(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function fe(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function Pe(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.startsWith(e.keys.join(""))}function U(t,e,o,P,h,f){let m=!1,a=h(t,e,e?o:!1);for(;a;){if(a===t.firstChild){if(m)return!1;m=!0}const d=P?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Pe(a,f)||d)a=h(t,a,o);else return a.focus(),!0}return!1}const Ae=n.forwardRef(function(e,o){const{actions:P,autoFocus:h=!1,autoFocusItem:f=!1,children:m,className:a,disabledItemsFocusable:d=!1,disableListWrap:b=!1,onKeyDown:R,variant:T="selectedMenu",...k}=e,s=n.useRef(null),v=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ze(()=>{h&&s.current.focus()},[h]),n.useImperativeHandle(P,()=>({adjustStyleForScrollbar:(r,{direction:i})=>{const p=!s.current.style.width;if(r.clientHeight<s.current.clientHeight&&p){const C=`${Ie(Y(r))}px`;s.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=C,s.current.style.width=`calc(100% + ${C})`}return s.current}}),[]);const K=r=>{const i=s.current,p=r.key;if(r.ctrlKey||r.metaKey||r.altKey){R&&R(r);return}const x=X(i).activeElement;if(p==="ArrowDown")r.preventDefault(),U(i,x,b,d,B);else if(p==="ArrowUp")r.preventDefault(),U(i,x,b,d,fe);else if(p==="Home")r.preventDefault(),U(i,null,b,d,B);else if(p==="End")r.preventDefault(),U(i,null,b,d,fe);else if(p.length===1){const c=v.current,M=p.toLowerCase(),I=performance.now();c.keys.length>0&&(I-c.lastTime>500?(c.keys=[],c.repeating=!0,c.previousKeyMatched=!0):c.repeating&&M!==c.keys[0]&&(c.repeating=!1)),c.lastTime=I,c.keys.push(M);const L=x&&!c.repeating&&Pe(x,c);c.previousKeyMatched&&(L||U(i,x,!1,d,B,c))?r.preventDefault():c.previousKeyMatched=!1}R&&R(r)},z=ge(s,o);let l=-1;n.Children.forEach(m,(r,i)=>{if(!n.isValidElement(r)){l===i&&(l+=1,l>=m.length&&(l=-1));return}r.props.disabled||(T==="selectedMenu"&&r.props.selected||l===-1)&&(l=i),l===i&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(l+=1,l>=m.length&&(l=-1))});const E=n.Children.map(m,(r,i)=>{if(i===l){const p={};return f&&(p.autoFocus=!0),r.props.tabIndex===void 0&&T==="selectedMenu"&&(p.tabIndex=0),n.cloneElement(r,p)}return r});return O.jsx(He,{role:"menu",ref:z,className:a,onKeyDown:K,tabIndex:h?0:-1,...k,children:E})});function Ue(t){return q("MuiPopover",t)}J("MuiPopover",["root","paper"]);function de(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function me(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function he(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function _(t){return typeof t=="function"?t():t}const We=t=>{const{classes:e}=t;return Z({root:["root"],paper:["paper"]},Ue,e)},$e=H(Oe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ve=H(Te,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ge=n.forwardRef(function(e,o){const P=Q({props:e,name:"MuiPopover"}),{action:h,anchorEl:f,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:d="anchorEl",children:b,className:R,container:T,elevation:k=8,marginThreshold:s=16,open:v,PaperProps:K={},slots:z={},slotProps:l={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:r=ke,transitionDuration:i="auto",TransitionProps:{onEntering:p,...C}={},disableScrollLock:x=!1,...c}=P,M=(l==null?void 0:l.paper)??K,I=n.useRef(),L={...P,anchorOrigin:m,anchorReference:d,elevation:k,marginThreshold:s,externalPaperSlotProps:M,transformOrigin:E,TransitionComponent:r,transitionDuration:i,TransitionProps:C},A=We(L),W=n.useCallback(()=>{if(d==="anchorPosition")return a;const u=_(f),y=(u&&u.nodeType===1?u:X(I.current).body).getBoundingClientRect();return{top:y.top+de(y,m.vertical),left:y.left+me(y,m.horizontal)}},[f,m.horizontal,m.vertical,a,d]),$=n.useCallback(u=>({vertical:de(u,E.vertical),horizontal:me(u,E.horizontal)}),[E.horizontal,E.vertical]),G=n.useCallback(u=>{const g={width:u.offsetWidth,height:u.offsetHeight},y=$(g);if(d==="none")return{top:null,left:null,transformOrigin:he(y)};const se=W();let j=se.top-y.vertical,N=se.left-y.horizontal;const ne=j+g.height,ie=N+g.width,ae=Y(_(f)),le=ae.innerHeight-s,ce=ae.innerWidth-s;if(s!==null&&j<s){const S=j-s;j-=S,y.vertical+=S}else if(s!==null&&ne>le){const S=ne-le;j-=S,y.vertical+=S}if(s!==null&&N<s){const S=N-s;N-=S,y.horizontal+=S}else if(ie>ce){const S=ie-ce;N-=S,y.horizontal+=S}return{top:`${Math.round(j)}px`,left:`${Math.round(N)}px`,transformOrigin:he(y)}},[f,d,W,$,s]),[w,F]=n.useState(v),D=n.useCallback(()=>{const u=I.current;if(!u)return;const g=G(u);g.top!==null&&u.style.setProperty("top",g.top),g.left!==null&&(u.style.left=g.left),u.style.transformOrigin=g.transformOrigin,F(!0)},[G]);n.useEffect(()=>(x&&window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)),[f,x,D]);const ye=(u,g)=>{p&&p(u,g),D()},be=()=>{F(!1)};n.useEffect(()=>{v&&D()}),n.useImperativeHandle(h,()=>v?{updatePosition:()=>{D()}}:null,[v,D]),n.useEffect(()=>{if(!v)return;const u=De(()=>{D()}),g=Y(f);return g.addEventListener("resize",u),()=>{u.clear(),g.removeEventListener("resize",u)}},[f,v,D]);let ee=i;i==="auto"&&!r.muiSupportAuto&&(ee=void 0);const Me=T||(f?X(_(f)).body:void 0),te={slots:z,slotProps:{...l,paper:M}},[we,oe]=pe("paper",{elementType:ve,externalForwardedProps:te,additionalProps:{elevation:k,className:V(A.paper,M==null?void 0:M.className),style:w?M.style:{...M.style,opacity:0}},ownerState:L}),[re,{slotProps:Re,...xe}]=pe("root",{elementType:$e,externalForwardedProps:te,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Me,open:v},ownerState:L,className:V(A.root,R)}),Se=ge(I,oe.ref);return O.jsx(re,{...xe,...!Le(re)&&{slotProps:Re,disableScrollLock:x},...c,ref:o,children:O.jsx(r,{appear:!0,in:v,onEntering:ye,onExited:be,timeout:ee,...C,children:O.jsx(we,{...oe,ref:Se,children:b})})})});function Ve(t){return q("MuiMenu",t)}J("MuiMenu",["root","paper","list"]);const Be={vertical:"top",horizontal:"right"},_e={vertical:"top",horizontal:"left"},Xe=t=>{const{classes:e}=t;return Z({root:["root"],paper:["paper"],list:["list"]},Ve,e)},Ye=H(Ge,{shouldForwardProp:t=>Ce(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qe=H(ve,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Je=H(Ae,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ht=n.forwardRef(function(e,o){const P=Q({props:e,name:"MuiMenu"}),{autoFocus:h=!0,children:f,className:m,disableAutoFocusItem:a=!1,MenuListProps:d={},onClose:b,open:R,PaperProps:T={},PopoverClasses:k,transitionDuration:s="auto",TransitionProps:{onEntering:v,...K}={},variant:z="selectedMenu",slots:l={},slotProps:E={},...r}=P,i=Ee(),p={...P,autoFocus:h,disableAutoFocusItem:a,MenuListProps:d,onEntering:v,PaperProps:T,transitionDuration:s,TransitionProps:K,variant:z},C=Xe(p),x=h&&!a&&R,c=n.useRef(null),M=(w,F)=>{c.current&&c.current.adjustStyleForScrollbar(w,{direction:i?"rtl":"ltr"}),v&&v(w,F)},I=w=>{w.key==="Tab"&&(w.preventDefault(),b&&b(w,"tabKeyDown"))};let L=-1;n.Children.map(f,(w,F)=>{n.isValidElement(w)&&(w.props.disabled||(z==="selectedMenu"&&w.props.selected||L===-1)&&(L=F))});const A=l.paper??qe,W=E.paper??T,$=ue({elementType:l.root,externalSlotProps:E.root,ownerState:p,className:[C.root,m]}),G=ue({elementType:A,externalSlotProps:W,ownerState:p,className:C.paper});return O.jsx(Ye,{onClose:b,anchorOrigin:{vertical:"bottom",horizontal:i?"right":"left"},transformOrigin:i?Be:_e,slots:{paper:A,root:l.root},slotProps:{root:$,paper:G},open:R,ref:o,transitionDuration:s,TransitionProps:{onEntering:M,...K},ownerState:p,...r,classes:k,children:O.jsx(Je,{onKeyDown:I,actions:c,autoFocus:h&&(L===-1||a),autoFocusItem:x,variant:z,...d,className:V(C.list,d.className),children:f})})});export{ht as M};
