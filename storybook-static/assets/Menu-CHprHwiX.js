import{r as c}from"./index-iNOV5qWA.js";import{e as oe,g as re,c as Y}from"./generateUtilityClasses-DXwt_ASJ.js";import{u as ze}from"./index-BOiXDGkM.js";import{u as se,s as W,c as ie,m as Be,r as Ue}from"./DefaultPropsProvider-C7n-yi0g.js";import{j as O}from"./jsx-runtime-D_zvdyIk.js";import{o as H,u as Te}from"./useSlotProps-DHT1LlLc.js";import{i as He}from"./isHostComponent-DVu5iVWx.js";import{u as Q}from"./useSlot-C8kuGgOa.js";import{P as We}from"./Paper-Me1pdxeg.js";import{g as ye,T as $e,a as we,r as Ge,G as Ve}from"./Grow-BZpI6Oyo.js";import{o as q,d as Ye}from"./ownerWindow-D3NkLV-w.js";import{u as X,s as Me,a as Se}from"./useForkRef-Dv2UJ9DH.js";import{e as qe}from"./resolveComponentProps-C157xaDk.js";import{r as Xe}from"./index-BRkj21M-.js";import{u as be}from"./useEnhancedEffect-DCkc7bGx.js";import{u as _e}from"./useTheme-CBx8ayXt.js";import{L as Je}from"./ListContext-C7gjrrzQ.js";function Ce(...e){return e.reduce((t,n)=>n==null?t:function(...a){t.apply(this,a),n.apply(this,a)},()=>{})}function Ae(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Qe(e){return typeof e=="function"?e():e}const Ze=c.forwardRef(function(t,n){const{children:o,container:a,disablePortal:r=!1}=t,[i,l]=c.useState(null),d=X(c.isValidElement(o)?ye(o):null,n);if(be(()=>{r||l(Qe(a)||document.body)},[a,r]),be(()=>{if(i&&!r)return Me(n,i),()=>{Me(n,null)}},[n,i,r]),r){if(c.isValidElement(o)){const E={ref:d};return c.cloneElement(o,E)}return o}return i&&Xe.createPortal(o,i)}),et={entering:{opacity:1},entered:{opacity:1}},tt=c.forwardRef(function(t,n){const o=_e(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:r,appear:i=!0,children:l,easing:d,in:E,onEnter:R,onEntered:v,onEntering:T,onExit:u,onExited:m,onExiting:D,style:S,timeout:h=a,TransitionComponent:w=$e,...s}=t,f=c.useRef(null),b=X(f,ye(l),n),P=M=>g=>{if(M){const p=f.current;g===void 0?M(p):M(p,g)}},x=P(T),y=P((M,g)=>{Ge(M);const p=we({style:S,timeout:h,easing:d},{mode:"enter"});M.style.webkitTransition=o.transitions.create("opacity",p),M.style.transition=o.transitions.create("opacity",p),R&&R(M,g)}),C=P(v),N=P(D),L=P(M=>{const g=we({style:S,timeout:h,easing:d},{mode:"exit"});M.style.webkitTransition=o.transitions.create("opacity",g),M.style.transition=o.transitions.create("opacity",g),u&&u(M)}),K=P(m),j=M=>{r&&r(f.current,M)};return O.jsx(w,{appear:i,in:E,nodeRef:f,onEnter:y,onEntered:C,onEntering:x,onExit:L,onExited:K,onExiting:N,addEndListener:j,timeout:h,...s,children:(M,{ownerState:g,...p})=>c.cloneElement(l,{style:{opacity:0,visibility:M==="exited"&&!E?"hidden":void 0,...et[M],...S,...l.props.style},ref:b,...p})})});function nt(e){return oe("MuiBackdrop",e)}re("MuiBackdrop",["root","invisible"]);const ot=e=>{const{classes:t,invisible:n}=e;return ie({root:["root",n&&"invisible"]},nt,t)},rt=W("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),st=c.forwardRef(function(t,n){const o=se({props:t,name:"MuiBackdrop"}),{children:a,className:r,component:i="div",invisible:l=!1,open:d,components:E={},componentsProps:R={},slotProps:v={},slots:T={},TransitionComponent:u,transitionDuration:m,...D}=o,S={...o,component:i,invisible:l},h=ot(S),w={transition:u,root:E.Root,...T},s={...R,...v},f={slots:w,slotProps:s},[b,P]=Q("root",{elementType:rt,externalForwardedProps:f,className:Y(h.root,r),ownerState:S}),[x,y]=Q("transition",{elementType:tt,externalForwardedProps:f,ownerState:S});return O.jsx(x,{in:d,timeout:m,...D,...y,children:O.jsx(b,{"aria-hidden":!0,...P,classes:h,ref:n,children:a})})});function it(e){const t=H(e);return t.body===e?q(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ne(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ke(e){return parseInt(q(e).getComputedStyle(e).paddingRight,10)||0}function at(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||o}function Ie(e,t,n,o,a){const r=[t,n,...o];[].forEach.call(e.children,i=>{const l=!r.includes(i),d=!at(i);l&&d&&ne(i,a)})}function me(e,t){let n=-1;return e.some((o,a)=>t(o)?(n=a,!0):!1),n}function lt(e,t){const n=[],o=e.container;if(!t.disableScrollLock){if(it(o)){const i=Ae(q(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${ke(o)+i}px`;const l=H(o).querySelectorAll(".mui-fixed");[].forEach.call(l,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${ke(d)+i}px`})}let r;if(o.parentNode instanceof DocumentFragment)r=H(o).body;else{const i=o.parentElement,l=q(o);r=(i==null?void 0:i.nodeName)==="HTML"&&l.getComputedStyle(i).overflowY==="scroll"?i:o}n.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{n.forEach(({value:r,el:i,property:l})=>{r?i.style.setProperty(l,r):i.style.removeProperty(l)})}}function ct(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class ut{constructor(){this.modals=[],this.containers=[]}add(t,n){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&ne(t.modalRef,!1);const a=ct(n);Ie(n,t.mount,t.modalRef,a,!0);const r=me(this.containers,i=>i.container===n);return r!==-1?(this.containers[r].modals.push(t),o):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:a}),o)}mount(t,n){const o=me(this.containers,r=>r.modals.includes(t)),a=this.containers[o];a.restore||(a.restore=lt(a,n))}remove(t,n=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const a=me(this.containers,i=>i.modals.includes(t)),r=this.containers[a];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(o,1),r.modals.length===0)r.restore&&r.restore(),t.modalRef&&ne(t.modalRef,n),Ie(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(a,1);else{const i=r.modals[r.modals.length-1];i.modalRef&&ne(i.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const dt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ft(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function pt(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function mt(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||pt(e))}function ht(e){const t=[],n=[];return Array.from(e.querySelectorAll(dt)).forEach((o,a)=>{const r=ft(o);r===-1||!mt(o)||(r===0?t.push(o):n.push({documentOrder:a,tabIndex:r,node:o}))}),n.sort((o,a)=>o.tabIndex===a.tabIndex?o.documentOrder-a.documentOrder:o.tabIndex-a.tabIndex).map(o=>o.node).concat(t)}function gt(){return!0}function bt(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:r=ht,isEnabled:i=gt,open:l}=e,d=c.useRef(!1),E=c.useRef(null),R=c.useRef(null),v=c.useRef(null),T=c.useRef(null),u=c.useRef(!1),m=c.useRef(null),D=X(ye(t),m),S=c.useRef(null);c.useEffect(()=>{!l||!m.current||(u.current=!n)},[n,l]),c.useEffect(()=>{if(!l||!m.current)return;const s=H(m.current);return m.current.contains(s.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),u.current&&m.current.focus()),()=>{a||(v.current&&v.current.focus&&(d.current=!0,v.current.focus()),v.current=null)}},[l]),c.useEffect(()=>{if(!l||!m.current)return;const s=H(m.current),f=x=>{S.current=x,!(o||!i()||x.key!=="Tab")&&s.activeElement===m.current&&x.shiftKey&&(d.current=!0,R.current&&R.current.focus())},b=()=>{var C,N;const x=m.current;if(x===null)return;if(!s.hasFocus()||!i()||d.current){d.current=!1;return}if(x.contains(s.activeElement)||o&&s.activeElement!==E.current&&s.activeElement!==R.current)return;if(s.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!u.current)return;let y=[];if((s.activeElement===E.current||s.activeElement===R.current)&&(y=r(m.current)),y.length>0){const L=!!((C=S.current)!=null&&C.shiftKey&&((N=S.current)==null?void 0:N.key)==="Tab"),K=y[0],j=y[y.length-1];typeof K!="string"&&typeof j!="string"&&(L?j.focus():K.focus())}else x.focus()};s.addEventListener("focusin",b),s.addEventListener("keydown",f,!0);const P=setInterval(()=>{s.activeElement&&s.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(P),s.removeEventListener("focusin",b),s.removeEventListener("keydown",f,!0)}},[n,o,a,i,l,r]);const h=s=>{v.current===null&&(v.current=s.relatedTarget),u.current=!0,T.current=s.target;const f=t.props.onFocus;f&&f(s)},w=s=>{v.current===null&&(v.current=s.relatedTarget),u.current=!0};return O.jsxs(c.Fragment,{children:[O.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:E,"data-testid":"sentinelStart"}),c.cloneElement(t,{ref:D,onFocus:h}),O.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:R,"data-testid":"sentinelEnd"})]})}function yt(e){return typeof e=="function"?e():e}function Et(e){return e?e.props.hasOwnProperty("in"):!1}const Ne=()=>{},le=new ut;function vt(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:a=!1,onTransitionEnter:r,onTransitionExited:i,children:l,onClose:d,open:E,rootRef:R}=e,v=c.useRef({}),T=c.useRef(null),u=c.useRef(null),m=X(u,R),[D,S]=c.useState(!E),h=Et(l);let w=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(w=!1);const s=()=>H(T.current),f=()=>(v.current.modalRef=u.current,v.current.mount=T.current,v.current),b=()=>{le.mount(f(),{disableScrollLock:o}),u.current&&(u.current.scrollTop=0)},P=Se(()=>{const g=yt(t)||s().body;le.add(f(),g),u.current&&b()}),x=()=>le.isTopModal(f()),y=Se(g=>{T.current=g,g&&(E&&x()?b():u.current&&ne(u.current,w))}),C=c.useCallback(()=>{le.remove(f(),w)},[w]);c.useEffect(()=>()=>{C()},[C]),c.useEffect(()=>{E?P():(!h||!a)&&C()},[E,C,h,a,P]);const N=g=>p=>{var F;(F=g.onKeyDown)==null||F.call(g,p),!(p.key!=="Escape"||p.which===229||!x())&&(n||(p.stopPropagation(),d&&d(p,"escapeKeyDown")))},L=g=>p=>{var F;(F=g.onClick)==null||F.call(g,p),p.target===p.currentTarget&&d&&d(p,"backdropClick")};return{getRootProps:(g={})=>{const p=qe(e);delete p.onTransitionEnter,delete p.onTransitionExited;const F={...p,...g};return{role:"presentation",...F,onKeyDown:N(F),ref:m}},getBackdropProps:(g={})=>{const p=g;return{"aria-hidden":!0,...p,onClick:L(p),open:E}},getTransitionProps:()=>{const g=()=>{S(!1),r&&r()},p=()=>{S(!0),i&&i(),a&&C()};return{onEnter:Ce(g,(l==null?void 0:l.props.onEnter)??Ne),onExited:Ce(p,(l==null?void 0:l.props.onExited)??Ne)}},rootRef:m,portalRef:y,isTopModal:x,exited:D,hasTransition:h}}function xt(e){return oe("MuiModal",e)}re("MuiModal",["root","hidden","backdrop"]);const Pt=e=>{const{open:t,exited:n,classes:o}=e;return ie({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},xt,o)},Rt=W("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Be(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Tt=W(st,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),wt=c.forwardRef(function(t,n){const o=se({name:"MuiModal",props:t}),{BackdropComponent:a=Tt,BackdropProps:r,classes:i,className:l,closeAfterTransition:d=!1,children:E,container:R,component:v,components:T={},componentsProps:u={},disableAutoFocus:m=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:S=!1,disablePortal:h=!1,disableRestoreFocus:w=!1,disableScrollLock:s=!1,hideBackdrop:f=!1,keepMounted:b=!1,onBackdropClick:P,onClose:x,onTransitionEnter:y,onTransitionExited:C,open:N,slotProps:L={},slots:K={},theme:j,...M}=o,g={...o,closeAfterTransition:d,disableAutoFocus:m,disableEnforceFocus:D,disableEscapeKeyDown:S,disablePortal:h,disableRestoreFocus:w,disableScrollLock:s,hideBackdrop:f,keepMounted:b},{getRootProps:p,getBackdropProps:F,getTransitionProps:z,portalRef:ce,isTopModal:ue,exited:Z,hasTransition:ae}=vt({...g,rootRef:n}),$={...g,exited:Z},B=Pt($),G={};if(E.props.tabIndex===void 0&&(G.tabIndex="-1"),ae){const{onEnter:I,onExited:V}=z();G.onEnter=I,G.onExited=V}const ee={...M,slots:{root:T.Root,backdrop:T.Backdrop,...K},slotProps:{...u,...L}},[de,fe]=Q("root",{elementType:Rt,externalForwardedProps:ee,getSlotProps:p,additionalProps:{ref:n,as:v},ownerState:$,className:Y(l,B==null?void 0:B.root,!$.open&&$.exited&&(B==null?void 0:B.hidden))}),[pe,k]=Q("backdrop",{elementType:a,externalForwardedProps:ee,additionalProps:r,getSlotProps:I=>F({...I,onClick:V=>{P&&P(V),I!=null&&I.onClick&&I.onClick(V)}}),className:Y(r==null?void 0:r.className,B==null?void 0:B.backdrop),ownerState:$}),A=X(r==null?void 0:r.ref,k.ref);return!b&&!N&&(!ae||Z)?null:O.jsx(Ze,{ref:ce,container:R,disablePortal:h,children:O.jsxs(de,{...fe,children:[!f&&a?O.jsx(pe,{...k,ref:A}):null,O.jsx(bt,{disableEnforceFocus:D,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:ue,open:N,children:c.cloneElement(E,G)})]})})});function Mt(e){return oe("MuiList",e)}re("MuiList",["root","padding","dense","subheader"]);const St=e=>{const{classes:t,disablePadding:n,dense:o,subheader:a}=e;return ie({root:["root",!n&&"padding",o&&"dense",a&&"subheader"]},Mt,t)},Ct=W("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),kt=c.forwardRef(function(t,n){const o=se({props:t,name:"MuiList"}),{children:a,className:r,component:i="ul",dense:l=!1,disablePadding:d=!1,subheader:E,...R}=o,v=c.useMemo(()=>({dense:l}),[l]),T={...o,component:i,dense:l,disablePadding:d},u=St(T);return O.jsx(Je.Provider,{value:v,children:O.jsxs(Ct,{as:i,className:Y(u.root,r),ref:n,ownerState:T,...R,children:[E,a]})})});function he(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Le(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ke(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function te(e,t,n,o,a,r){let i=!1,l=a(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(i)return!1;i=!0}const d=o?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Ke(l,r)||d)l=a(e,l,n);else return l.focus(),!0}return!1}const It=c.forwardRef(function(t,n){const{actions:o,autoFocus:a=!1,autoFocusItem:r=!1,children:i,className:l,disabledItemsFocusable:d=!1,disableListWrap:E=!1,onKeyDown:R,variant:v="selectedMenu",...T}=t,u=c.useRef(null),m=c.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});be(()=>{a&&u.current.focus()},[a]),c.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(s,{direction:f})=>{const b=!u.current.style.width;if(s.clientHeight<u.current.clientHeight&&b){const P=`${Ae(q(s))}px`;u.current.style[f==="rtl"?"paddingLeft":"paddingRight"]=P,u.current.style.width=`calc(100% + ${P})`}return u.current}}),[]);const D=s=>{const f=u.current,b=s.key;if(s.ctrlKey||s.metaKey||s.altKey){R&&R(s);return}const x=H(f).activeElement;if(b==="ArrowDown")s.preventDefault(),te(f,x,E,d,he);else if(b==="ArrowUp")s.preventDefault(),te(f,x,E,d,Le);else if(b==="Home")s.preventDefault(),te(f,null,E,d,he);else if(b==="End")s.preventDefault(),te(f,null,E,d,Le);else if(b.length===1){const y=m.current,C=b.toLowerCase(),N=performance.now();y.keys.length>0&&(N-y.lastTime>500?(y.keys=[],y.repeating=!0,y.previousKeyMatched=!0):y.repeating&&C!==y.keys[0]&&(y.repeating=!1)),y.lastTime=N,y.keys.push(C);const L=x&&!y.repeating&&Ke(x,y);y.previousKeyMatched&&(L||te(f,x,!1,d,he,y))?s.preventDefault():y.previousKeyMatched=!1}R&&R(s)},S=X(u,n);let h=-1;c.Children.forEach(i,(s,f)=>{if(!c.isValidElement(s)){h===f&&(h+=1,h>=i.length&&(h=-1));return}s.props.disabled||(v==="selectedMenu"&&s.props.selected||h===-1)&&(h=f),h===f&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(h+=1,h>=i.length&&(h=-1))});const w=c.Children.map(i,(s,f)=>{if(f===h){const b={};return r&&(b.autoFocus=!0),s.props.tabIndex===void 0&&v==="selectedMenu"&&(b.tabIndex=0),c.cloneElement(s,b)}return s});return O.jsx(kt,{role:"menu",ref:S,className:l,onKeyDown:D,tabIndex:a?0:-1,...T,children:w})});function Nt(e){return oe("MuiPopover",e)}re("MuiPopover",["root","paper"]);function Fe(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Oe(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function De(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ge(e){return typeof e=="function"?e():e}const Lt=e=>{const{classes:t}=e;return ie({root:["root"],paper:["paper"]},Nt,t)},Ft=W(wt,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),je=W(We,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ot=c.forwardRef(function(t,n){const o=se({props:t,name:"MuiPopover"}),{action:a,anchorEl:r,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:d="anchorEl",children:E,className:R,container:v,elevation:T=8,marginThreshold:u=16,open:m,PaperProps:D={},slots:S={},slotProps:h={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:s=Ve,transitionDuration:f="auto",TransitionProps:{onEntering:b,...P}={},disableScrollLock:x=!1,...y}=o,C=(h==null?void 0:h.paper)??D,N=c.useRef(),L={...o,anchorOrigin:i,anchorReference:d,elevation:T,marginThreshold:u,externalPaperSlotProps:C,transformOrigin:w,TransitionComponent:s,transitionDuration:f,TransitionProps:P},K=Lt(L),j=c.useCallback(()=>{if(d==="anchorPosition")return l;const k=ge(r),I=(k&&k.nodeType===1?k:H(N.current).body).getBoundingClientRect();return{top:I.top+Fe(I,i.vertical),left:I.left+Oe(I,i.horizontal)}},[r,i.horizontal,i.vertical,l,d]),M=c.useCallback(k=>({vertical:Fe(k,w.vertical),horizontal:Oe(k,w.horizontal)}),[w.horizontal,w.vertical]),g=c.useCallback(k=>{const A={width:k.offsetWidth,height:k.offsetHeight},I=M(A);if(d==="none")return{top:null,left:null,transformOrigin:De(I)};const V=j();let _=V.top-I.vertical,J=V.left-I.horizontal;const Ee=_+A.height,ve=J+A.width,xe=q(ge(r)),Pe=xe.innerHeight-u,Re=xe.innerWidth-u;if(u!==null&&_<u){const U=_-u;_-=U,I.vertical+=U}else if(u!==null&&Ee>Pe){const U=Ee-Pe;_-=U,I.vertical+=U}if(u!==null&&J<u){const U=J-u;J-=U,I.horizontal+=U}else if(ve>Re){const U=ve-Re;J-=U,I.horizontal+=U}return{top:`${Math.round(_)}px`,left:`${Math.round(J)}px`,transformOrigin:De(I)}},[r,d,j,M,u]),[p,F]=c.useState(m),z=c.useCallback(()=>{const k=N.current;if(!k)return;const A=g(k);A.top!==null&&k.style.setProperty("top",A.top),A.left!==null&&(k.style.left=A.left),k.style.transformOrigin=A.transformOrigin,F(!0)},[g]);c.useEffect(()=>(x&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[r,x,z]);const ce=(k,A)=>{b&&b(k,A),z()},ue=()=>{F(!1)};c.useEffect(()=>{m&&z()}),c.useImperativeHandle(a,()=>m?{updatePosition:()=>{z()}}:null,[m,z]),c.useEffect(()=>{if(!m)return;const k=Ye(()=>{z()}),A=q(r);return A.addEventListener("resize",k),()=>{k.clear(),A.removeEventListener("resize",k)}},[r,m,z]);let Z=f;f==="auto"&&!s.muiSupportAuto&&(Z=void 0);const ae=v||(r?H(ge(r)).body:void 0),$={slots:S,slotProps:{...h,paper:C}},[B,G]=Q("paper",{elementType:je,externalForwardedProps:$,additionalProps:{elevation:T,className:Y(K.paper,C==null?void 0:C.className),style:p?C.style:{...C.style,opacity:0}},ownerState:L}),[ee,{slotProps:de,...fe}]=Q("root",{elementType:Ft,externalForwardedProps:$,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ae,open:m},ownerState:L,className:Y(K.root,R)}),pe=X(N,G.ref);return O.jsx(ee,{...fe,...!He(ee)&&{slotProps:de,disableScrollLock:x},...y,ref:n,children:O.jsx(s,{appear:!0,in:m,onEntering:ce,onExited:ue,timeout:Z,...P,children:O.jsx(B,{...G,ref:pe,children:E})})})});function Dt(e){return oe("MuiMenu",e)}re("MuiMenu",["root","paper","list"]);const At={vertical:"top",horizontal:"right"},Kt={vertical:"top",horizontal:"left"},jt=e=>{const{classes:t}=e;return ie({root:["root"],paper:["paper"],list:["list"]},Dt,t)},zt=W(Ot,{shouldForwardProp:e=>Ue(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Bt=W(je,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ut=W(It,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),sn=c.forwardRef(function(t,n){const o=se({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:r,className:i,disableAutoFocusItem:l=!1,MenuListProps:d={},onClose:E,open:R,PaperProps:v={},PopoverClasses:T,transitionDuration:u="auto",TransitionProps:{onEntering:m,...D}={},variant:S="selectedMenu",slots:h={},slotProps:w={},...s}=o,f=ze(),b={...o,autoFocus:a,disableAutoFocusItem:l,MenuListProps:d,onEntering:m,PaperProps:v,transitionDuration:u,TransitionProps:D,variant:S},P=jt(b),x=a&&!l&&R,y=c.useRef(null),C=(p,F)=>{y.current&&y.current.adjustStyleForScrollbar(p,{direction:f?"rtl":"ltr"}),m&&m(p,F)},N=p=>{p.key==="Tab"&&(p.preventDefault(),E&&E(p,"tabKeyDown"))};let L=-1;c.Children.map(r,(p,F)=>{c.isValidElement(p)&&(p.props.disabled||(S==="selectedMenu"&&p.props.selected||L===-1)&&(L=F))});const K=h.paper??Bt,j=w.paper??v,M=Te({elementType:h.root,externalSlotProps:w.root,ownerState:b,className:[P.root,i]}),g=Te({elementType:K,externalSlotProps:j,ownerState:b,className:P.paper});return O.jsx(zt,{onClose:E,anchorOrigin:{vertical:"bottom",horizontal:f?"right":"left"},transformOrigin:f?At:Kt,slots:{paper:K,root:h.root},slotProps:{root:M,paper:g},open:R,ref:n,transitionDuration:u,TransitionProps:{onEntering:C,...D},ownerState:b,...s,classes:T,children:O.jsx(Ut,{onKeyDown:N,actions:y,autoFocus:a&&(L===-1||l),autoFocusItem:x,variant:S,...d,className:Y(P.list,d.className),children:r})})});export{st as B,tt as F,sn as M,wt as a};
