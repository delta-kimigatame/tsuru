var c=Object.defineProperty;var p=(r,o,a)=>o in r?c(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a;var l=(r,o,a)=>p(r,typeof o!="symbol"?o+"":o,a);import{B as b}from"./BaseBatchProcess-DuMW4YHa.js";import{N as u}from"./Note-CcnmOUAw.js";import"./Logging-BGLwk1OE.js";import"./interp-BFp6dTGs.js";import"./Notenum-DIq-GRnt.js";class n extends b{constructor(){super(...arguments);l(this,"title","batchprocess.resetEdit.title");l(this,"summary","調声リセット");l(this,"ui",[{key:"info",labelKey:"batchprocess.resetEdit.info",inputType:"checkbox",defaultValue:!0},{key:"pitch",labelKey:"batchprocess.resetEdit.pitch",inputType:"checkbox",defaultValue:!0},{key:"intensity",labelKey:"batchprocess.resetEdit.intensity",inputType:"checkbox",defaultValue:!0},{key:"flags",labelKey:"batchprocess.resetEdit.flags",inputType:"checkbox",defaultValue:!0},{key:"velocity",labelKey:"batchprocess.resetEdit.velocity",inputType:"checkbox",defaultValue:!0},{key:"envelope",labelKey:"batchprocess.resetEdit.envelope",inputType:"checkbox",defaultValue:!0},{key:"vibrato",labelKey:"batchprocess.resetEdit.vibrato",inputType:"checkbox",defaultValue:!0},{key:"modulation",labelKey:"batchprocess.resetEdit.modulation",inputType:"checkbox",defaultValue:!0}]);l(this,"initialOptions",{info:!0,pitch:!0,intensity:!0,flags:!0,velocity:!0,envelope:!0,vibrato:!0,modulation:!0})}process(a,i){return super.process(a,i)}_process(a,i){const s=new Array;return a.forEach(e=>{const t=new u;t.index=e.index,t.lyric=e.lyric,t.length=e.length,t.tempo=e.tempo,t.hasTempo=e.hasTempo,t.notenum=e.notenum,i.info||(e.label!==void 0&&(t.label=e.label),e.region!==void 0&&(t.region=e.region),e.regionEnd!==void 0&&(t.regionEnd=e.regionEnd)),i.pitch||(e.pitches!==void 0&&t.setPitches(e.pitches),e.pbStart!==void 0&&(t.pbStart=e.pbStart),e.pbs!==void 0&&(t.pbs=`${e.pbs.time};${e.pbs.height}}`),e.pbw!==void 0&&t.setPbw(e.pbw),e.pby!==void 0&&t.setPby(e.pby),e.pbm!==void 0&&t.setPbm(e.pbm)),!i.flags&&e.flags!==void 0&&(t.flags=e.flags),!i.intensity&&e.intensity!==void 0&&(t.intensity=e.intensity),!i.velocity&&e.velocity!==void 0&&(t.velocity=e.velocity),!i.envelope&&e.envelope!==void 0&&t.setEnvelope(e.envelope),!i.vibrato&&e.vibrato!==void 0&&(t.vibrato=`${e.vibrato.length},${e.vibrato.cycle},${e.vibrato.depth},${e.vibrato.fadeInTime},${e.vibrato.fadeOutTime},${e.vibrato.phase},${e.vibrato.height},0`),!i.modulation&&e.modulation!==void 0&&(t.modulation=e.modulation),s.push(t)}),s}}export{n as ResetEditBatchProcess};
