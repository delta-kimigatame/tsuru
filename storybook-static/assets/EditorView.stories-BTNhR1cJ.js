import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{w as n,u as s}from"./index-CYFwst5-.js";import{J as mt}from"./jszip.min-CqN8Epyx.js";import{R as nt}from"./index-iNOV5qWA.js";import{g as ot,T as d}from"./theme-6pAN8qG3.js";import{i as ct}from"./configs-ChwAXIEp.js";import{V as dt}from"./VoiceBank-C9vet1UG.js";import{u as k}from"./cookieStore-BsTWuq-c.js";import{u as pt}from"./musicProjectStore-BsvuTYmn.js";import{b as ut}from"./sampledata-dqDZKv4N.js";import{l as lt,b as wt}from"./utils-Cq-m8ugv.js";import{E as it}from"./EditorView-BCHVsa-c.js";import{c as st}from"./createTheme-B5w4ml5n.js";import"./___vite-browser-external_commonjs-proxy-Daub02KT.js";import"./index-DrFu-skq.js";import"./resolveProps-BxfXLv92.js";import"./index-BOiXDGkM.js";import"./useThemeWithoutDefault-CG-nTen1.js";import"./DefaultPropsProvider-C7n-yi0g.js";import"./generateUtilityClasses-DXwt_ASJ.js";import"./useEnhancedEffect-DCkc7bGx.js";import"./GlobalStyles-cbKtrZEy.js";import"./useTranslation-C2ldOi4s.js";import"./extractFileFromZip-BLIorQxg.js";import"./readTextFile-BNLodD0O.js";import"./Notenum-DIq-GRnt.js";import"./note-PQ4Q7K1Q.js";import"./Logging-BGLwk1OE.js";import"./react-D0diZGQB.js";import"./synthesis-C19dj4Rf.js";import"./resampWorker-BBgBVPde.js";import"./interp-BFp6dTGs.js";import"./snackBarStore-cArT9G3j.js";import"./FooterMenu-CP3FhuSb.js";import"./createSvgIcon-j8Re0J7b.js";import"./useVerticalFooterMenu-C4WwAev3.js";import"./Ust-B05cA2Ng.js";import"./Note-CcnmOUAw.js";import"./BatchProcess-BnQjNiks.js";import"./DynamicBatchProcessInput-Cz-T18F2.js";import"./BatchProcessCheckBox-SLv8Q1C0.js";import"./Box-D69FHGj3.js";import"./createBox-BQknTud0.js";import"./useTheme-BMUBEho4.js";import"./extendSxProp-C28V3_VZ.js";import"./FormControlLabel-B63O0rFI.js";import"./useFormControl-Blf09__C.js";import"./useControlled-7AchordE.js";import"./ButtonBase-WT7DZmCb.js";import"./TransitionGroupContext-BoJwzo5i.js";import"./useForkRef-Dv2UJ9DH.js";import"./isFocusVisible-B8k4qzLc.js";import"./useSlot-C8kuGgOa.js";import"./resolveComponentProps-C157xaDk.js";import"./Typography--QOf8yBx.js";import"./index-BY9WgCjw.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./BatchProcessSelect-Dv0K0QVG.js";import"./Select-DXy30Rw_.js";import"./Menu-CPVIqBh5.js";import"./useSlotProps-B_kYJHgD.js";import"./isHostComponent-DVu5iVWx.js";import"./Paper-Me1pdxeg.js";import"./useTheme-CBx8ayXt.js";import"./Grow-Cmdnd185.js";import"./utils-BrZ7fP8o.js";import"./index-BRkj21M-.js";import"./index-BGdoMgps.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Modal-Cd-jXePO.js";import"./ListContext-C7gjrrzQ.js";import"./useId-CEkcLX0P.js";import"./MenuItem-B9tsOG0D.js";import"./dividerClasses-DUoTRvux.js";import"./BatchProcessSlider-Cwh7_5ZW.js";import"./BatchProcessSwitch-C8NXqmD7.js";import"./BatchProcessTextBoxNumber-D_dQW4cb.js";import"./TextField-Bf9mMew8.js";import"./BatchProcessTextBoxString-BYN35TLN.js";import"./BasePaper-C7D7U7EW.js";import"./Divider-3fxWqrZQ.js";import"./Button-DslL7Hsi.js";import"./CircularProgress-BRQdUMA5.js";import"./iframe-CPvSFjsG.js";import"./BaseBatchProcess-DuMW4YHa.js";import"./Close-BvlVWmmo.js";import"./DialogTitle-6zbKYUDs.js";import"./IconButton-B-lYMn6i.js";import"./FooterBatchProcessMenu-C4jzYKxd.js";import"./FooterZoomMenu-CX05PJ9I.js";import"./array-CrYMH4lO.js";import"./ListItemText-C2V2I13E.js";import"./Tabs-CxRJVe1c.js";import"./Pianoroll-C2fGLyw5.js";import"./PianorollBackground-CeWu-PaL.js";import"./useThemeMode-DBwfopSL.js";import"./index-w39uwJq3.js";import"./getThemeProps-Cyw7R1y9.js";import"./PianorollNotes-Dk-eVHoG.js";import"./PianorollPitch-Ss1AkXxq.js";import"./PianorollVibrato-B6P6yanw.js";const le={title:"03_0_エディタ/エディタ全体",component:it};ct.changeLanguage("ja");const u=st(ot("light")),yt=st(ot("dark")),j=wt(ut),ft="minimumCV.zip",bt=()=>{const{setVb:t,setNotes:a}=pt(),{setVerticalZoom:e,setHorizontalZoom:m}=k(),o=async()=>{const c=new TextDecoder("Shift-JIS"),i=await lt(ft),l=new mt;await l.loadAsync(i,{decodeFileName:rt=>c.decode(rt)});const R=new dt(l.files);await R.initialize(),t(R),a([]),e(1),m(1)};return nt.useEffect(()=>{o()},[]),r.jsx(it,{})},p=()=>r.jsx(bt,{}),w=p.bind({});w.args={};w.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];w.play=async()=>{const t=k.getState();t.setMode("light"),t.setColorTheme("default")};w.storyName="ライトモード";const y=p.bind({});y.args={};y.decorators=[t=>r.jsx(d,{theme:yt,children:r.jsx(t,{})})];y.storyName="ダークモード";y.play=async()=>{const t=k.getState();t.setMode("dark"),t.setColorTheme("default")};const f=p.bind({});f.args={};f.parameters={viewport:{defaultViewport:"iphonex",defaultOrientation:"landscape"}};f.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];f.storyName="iphoneX横向き";const b=p.bind({});b.args={};b.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];b.storyName="UST読込をクリック";b.play=async({canvasElement:t,step:a})=>{const e=n(t),m=await e.findByRole("tab",{name:/UST読込/i});if(await s.click(m),!await e.findByTestId("file-input"))throw new Error("隠しファイル入力が見つかりません")};const T=p.bind({});T.args={};T.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];T.storyName="ustを読み込んで再生";T.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(o=>setTimeout(o,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const o=await e.findByTestId("file-input"),c=new File([j],"test.ust");await s.upload(o,c)}),await a("ustのロード完了待ち",async()=>{await new Promise(o=>setTimeout(o,2e3))});const m=await e.findByRole("tab",{name:/再生/i});await s.click(m),await a("合成処理待ち",async()=>{await e.findByRole("tab",{name:/停止/i},{timeout:6e4})})};const h=p.bind({});h.args={};h.storyName="ustを読み込んで再生中に停止";h.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];h.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(o=>setTimeout(o,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const o=await e.findByTestId("file-input"),c=new File([j],"test.ust");await s.upload(o,c)}),await a("ustのロード完了待ち",async()=>{await new Promise(o=>setTimeout(o,2e3))});const m=await e.findByRole("tab",{name:/再生/i});await s.click(m),await a("再生が始まってから停止を押す",async()=>{const o=await e.findByRole("tab",{name:/停止/i},{timeout:6e4});await s.click(o)}),await a("もう1度再生ボタンが表示されるはず",async()=>{await e.findByRole("tab",{name:/再生/i})})};const B=p.bind({});B.args={};B.storyName="ustを読み込んでwavをダウンロード";B.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];B.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(o=>setTimeout(o,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const o=await e.findByTestId("file-input"),c=new File([j],"test.ust");await s.upload(o,c)}),await a("ustのロード完了待ち",async()=>{await new Promise(o=>setTimeout(o,2e3))});const m=await e.findByRole("tab",{name:/wav保存/i});await s.click(m),await a("合成処理が終わればまたwav保存ボタンが表示されるはず",async()=>{await e.findByRole("tab",{name:/wav保存/i},{timeout:6e4})})};const P=p.bind({});P.args={};P.storyName="ustを読み込んで音高方向拡大縮小";P.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];P.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(i=>setTimeout(i,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const i=await e.findByTestId("file-input"),l=new File([j],"test.ust");await s.upload(i,l)}),await a("ustのロード完了待ち",async()=>{await new Promise(i=>setTimeout(i,2e3))});const m=await e.findByRole("tab",{name:/拡大縮小/i});await s.click(m),await n(document.body).findByRole("menu",{},{timeout:5e3});const o=await n(document.body).findByRole("menuitem",{name:/縮小\(縦\)/i});await s.click(o),await a("縮小待ち",async()=>{await new Promise(i=>setTimeout(i,2e3))}),await s.click(m),await n(document.body).findByRole("menu",{},{timeout:5e3});const c=await n(document.body).findByRole("menuitem",{name:/拡大\(縦\)/i});await s.click(c)};const g=p.bind({});g.args={};g.storyName="ustを読み込んで時間方向拡大縮小";g.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];g.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(i=>setTimeout(i,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const i=await e.findByTestId("file-input"),l=new File([j],"test.ust");await s.upload(i,l)}),await a("ustのロード完了待ち",async()=>{await new Promise(i=>setTimeout(i,2e3))});const m=await e.findByRole("tab",{name:/拡大縮小/i});await s.click(m),await n(document.body).findByRole("menu",{},{timeout:5e3});const o=await n(document.body).findByRole("menuitem",{name:/縮小\(横\)/i});await s.click(o),await a("縮小待ち",async()=>{await new Promise(i=>setTimeout(i,2e3))}),await s.click(m),await n(document.body).findByRole("menu",{},{timeout:5e3});const c=await n(document.body).findByRole("menuitem",{name:/拡大\(横\)/i});await s.click(c)};const x=p.bind({});x.storyName="ustを読み込んで一括処理を実行し再生";x.args={};x.decorators=[t=>r.jsx(d,{theme:u,children:r.jsx(t,{})})];x.play=async({canvasElement:t,step:a})=>{const e=n(t);await a("コンポーネントの初期化待ち",async()=>{await new Promise(i=>setTimeout(i,1e3))}),await a("隠しファイル入力にダミーのustファイルをアップロードする",async()=>{const i=await e.findByTestId("file-input"),l=new File([j],"test.ust");await s.upload(i,l)}),await a("ustのロード完了待ち",async()=>{await new Promise(i=>setTimeout(i,2e3))});const m=await e.findByRole("tab",{name:/一括処理/i});await s.click(m),await n(document.body).findByRole("menu",{},{timeout:5e3});const o=await n(document.body).findByRole("menuitem",{name:/1オクターブ上げる/i});await s.click(o);const c=await e.findByRole("tab",{name:/再生/i});await s.click(c),await a("合成処理待ち",async()=>{await e.findByRole("tab",{name:/停止/i},{timeout:6e4})})};var S,A,L;w.parameters={...w.parameters,docs:{...(S=w.parameters)==null?void 0:S.docs,source:{originalSource:"() => <DummyParent />",...(L=(A=w.parameters)==null?void 0:A.docs)==null?void 0:L.source}}};var U,D,I;y.parameters={...y.parameters,docs:{...(U=y.parameters)==null?void 0:U.docs,source:{originalSource:"() => <DummyParent />",...(I=(D=y.parameters)==null?void 0:D.docs)==null?void 0:I.source}}};var v,V,N;f.parameters={...f.parameters,docs:{...(v=f.parameters)==null?void 0:v.docs,source:{originalSource:"() => <DummyParent />",...(N=(V=f.parameters)==null?void 0:V.docs)==null?void 0:N.source}}};var Z,z,E;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:"() => <DummyParent />",...(E=(z=b.parameters)==null?void 0:z.docs)==null?void 0:E.source}}};var F,C,M;T.parameters={...T.parameters,docs:{...(F=T.parameters)==null?void 0:F.docs,source:{originalSource:"() => <DummyParent />",...(M=(C=T.parameters)==null?void 0:C.docs)==null?void 0:M.source}}};var _,H,J;h.parameters={...h.parameters,docs:{...(_=h.parameters)==null?void 0:_.docs,source:{originalSource:"() => <DummyParent />",...(J=(H=h.parameters)==null?void 0:H.docs)==null?void 0:J.source}}};var O,X,q;B.parameters={...B.parameters,docs:{...(O=B.parameters)==null?void 0:O.docs,source:{originalSource:"() => <DummyParent />",...(q=(X=B.parameters)==null?void 0:X.docs)==null?void 0:q.source}}};var G,K,Q;P.parameters={...P.parameters,docs:{...(G=P.parameters)==null?void 0:G.docs,source:{originalSource:"() => <DummyParent />",...(Q=(K=P.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};var W,Y,$;g.parameters={...g.parameters,docs:{...(W=g.parameters)==null?void 0:W.docs,source:{originalSource:"() => <DummyParent />",...($=(Y=g.parameters)==null?void 0:Y.docs)==null?void 0:$.source}}};var tt,at,et;x.parameters={...x.parameters,docs:{...(tt=x.parameters)==null?void 0:tt.docs,source:{originalSource:"() => <DummyParent />",...(et=(at=x.parameters)==null?void 0:at.docs)==null?void 0:et.source}}};const we=["LightMode","DarkMode","Landscape","ClickUst","LoadUstAndPlay","LoadUstAndPlayAndStop","LoadUstAndDownload","LoadUstAndVerticalZoom","LoadUstAndHorizontalZoom","LoadUstAndBatchProcessAndPlay"];export{b as ClickUst,y as DarkMode,f as Landscape,w as LightMode,x as LoadUstAndBatchProcessAndPlay,B as LoadUstAndDownload,g as LoadUstAndHorizontalZoom,T as LoadUstAndPlay,h as LoadUstAndPlayAndStop,P as LoadUstAndVerticalZoom,we as __namedExportsOrder,le as default};
